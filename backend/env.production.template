# Custard Backend Railway Environment Configuration
# Set these variables in Railway dashboard or copy to .env.production for local testing

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SECRET_KEY=your-super-secure-secret-key-here-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7
# Generate a secure secret key: python3 -c "import secrets; print(secrets.token_urlsafe(32))"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://custard:your-secure-password@postgres:5432/custard_db
# Supabase Nano tier optimized settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# =============================================================================
# API CONFIGURATION
# =============================================================================
HOST=0.0.0.0
PORT=8000
RELOAD=false
# Update these with your actual Railway domains
ALLOWED_ORIGINS=https://your-frontend.railway.app,https://yourdomain.com
FRONTEND_URL=https://your-frontend.railway.app
BACKEND_URL=https://your-backend.railway.app

# Redis Configuration (OPTIONAL - for authentication caching)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true

# =============================================================================
# SSL/TLS CONFIGURATION (Railway handles automatically)
# =============================================================================
# Railway automatically provides SSL certificates and HTTPS redirect
# No additional SSL configuration needed

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

RESEND_API_KEY=re_your-resend-api-key-here
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=Custard AI

# Google Cloud Storage Configuration
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GOOGLE_CLOUD_BUCKET_NAME=your-gcs-bucket-name
GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/service-account.json

# Cloudinary Configuration (FREE - 25GB storage + 25GB bandwidth/month)
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=INFO
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id

# =============================================================================
# LANGSMITH CONFIGURATION
# =============================================================================
LANGSMITH_API_KEY=your-langsmith-api-key-here
LANGSMITH_PROJECT=clean-custard-prod
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_TRACING_ENABLED=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG=false
ENABLE_DOCS=false

# =============================================================================
# SECURITY ENHANCEMENTS
# =============================================================================
# Request size limits (16MB)
MAX_REQUEST_SIZE=16777216
# Request timeout (30 seconds)
REQUEST_TIMEOUT=30
# Keep alive timeout (5 seconds)
KEEP_ALIVE_TIMEOUT=5
# Enable request ID tracking
ENABLE_REQUEST_ID=true

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WS_HEARTBEAT_INTERVAL=30
WS_CONNECTION_TIMEOUT=300

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REDIS_URL=redis://redis:6379/0

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# POSTGRESQL CONFIGURATION (for Docker Compose)
# =============================================================================
POSTGRES_DB=custard_db
POSTGRES_USER=custard
POSTGRES_PASSWORD=your-secure-postgres-password

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
GRAFANA_PASSWORD=your-secure-grafana-password
